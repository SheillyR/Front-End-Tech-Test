(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{31:function(t,e,c){},41:function(t,e,c){},62:function(t,e,c){},72:function(t,e,c){},73:function(t,e,c){},74:function(t,e,c){},75:function(t,e,c){"use strict";c.r(e);var n=c(1),r=c.n(n),a=c(32),i=c.n(a),s=(c(41),c(10)),o=c(2),u=c(8),d=c.n(u),j=c(12),l=c(33),b=c(34),h=c(43),m=function(){function t(e){Object(l.a)(this,t),this.url=e}return Object(b.a)(t,[{key:"get",value:function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h.get(this.url));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),O=m,p=r.a.createContext({product:[],cart:[],addProductToCart:function(t){},removeProductFromCart:function(t){}}),x=(c(62),c(0)),f=function(t){return Object(x.jsx)("header",{className:"nav-bar",children:Object(x.jsx)("nav",{children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(s.c,{to:"/",children:"Products"})}),Object(x.jsx)("li",{children:Object(x.jsxs)(s.c,{to:"/cart",children:["Cart (",t.cartItemNumber,")"]})})]})})})},v=(c(72),function(t){return Object(x.jsx)(p.Consumer,{children:function(t){return Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsx)(f,{cartItemNumber:t.cart.reduce((function(t,e){return t+e.quantity}),0)}),Object(x.jsx)("div",{className:"container",children:t.products.map((function(e){return Object(x.jsxs)("div",{className:"item",children:[Object(x.jsx)(s.b,{className:"link",to:"/products/".concat(e._id),children:Object(x.jsx)("div",{className:"imageContainer",children:Object(x.jsx)("img",{className:"imageContainer_image",src:"http://localhost:5000/".concat(e.image),alt:e.name})})}),Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("h2",{className:"content_brand",children:e.brand}),Object(x.jsx)("h2",{className:"content_name",children:e.name}),Object(x.jsxs)("h3",{className:"content_price",children:["$ ",e.price]})]}),Object(x.jsx)("div",{className:"selectBtn",children:Object(x.jsx)("button",{type:"button",className:"selectBtn_addCart",onClick:t.addProductToCart.bind(undefined,e),children:"Add item to cart"})})]})}))})]})}})});c(31);var N=function(){return Object(x.jsx)("div",{style:{textAlign:"center"},className:"App",children:Object(x.jsx)(v,{})})};c(73);var g=function(t){var e=this,c=Object(n.useContext)(p);return Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsx)(f,{cartItemNumber:c.cart.reduce((function(t,e){return t+e.quantity}),0)}),Object(x.jsxs)("section",{className:"cart",children:[c.cart.length<=0&&Object(x.jsx)("p",{children:"No Item in the Cart!"}),Object(x.jsx)("ul",{children:c.cart.map((function(t,n){return Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"img-container",children:Object(x.jsx)("img",{className:"img",src:"http://localhost:5000/".concat(t.image),alt:t.name})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("strong",{children:t.name}),"   $",t.price," (",t.quantity,")"]}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{className:"remove-btn",onClick:c.removeProductFromCart.bind(e,t.id),children:"Remove from Cart"})})]},n)}))})]})]})},C=c(15),y=function(t){var e=t.match,c=Object(n.useState)([]),r=Object(C.a)(c,2),a=r[0],i=r[1],s=function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:new O("http://localhost:5000/api/products/?id=?id=".concat(e.params.id)).get().then((function(t){i(t.data)})).catch((function(t){return console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),{product:a}},_=(c(74),function(t){var e=t.match,c=y({match:e}).product;return Object(x.jsx)(p.Consumer,{children:function(t){return Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsx)(f,{cartItemNumber:t.cart.reduce((function(t,e){return t+e.quantity}),0)}),Object(x.jsx)("div",{children:c.filter((function(t){return t._id==e.params.id})).map((function(t){return Object(x.jsxs)("div",{className:"product-container",children:[Object(x.jsx)("div",{className:"image-container",children:Object(x.jsx)("img",{className:"image",src:"http://localhost:5000/".concat(t.image),alt:t.name})}),Object(x.jsxs)("div",{className:"info-container",children:[Object(x.jsxs)("div",{className:"info",children:[Object(x.jsx)("h2",{className:"brand",children:t.brand}),Object(x.jsx)("h2",{children:t.name}),Object(x.jsx)("p",{className:"description",children:t.description}),Object(x.jsxs)("p",{className:"price",children:[Object(x.jsx)("strong",{children:"Price:"})," $ ",t.price]})]}),Object(x.jsx)("div",{className:"select-button",children:Object(x.jsx)("button",{type:"button",className:"selectBtn_addCart",children:"Add item to cart"})})]})]},t._id)}))})]})}})}),w=c(16),P=c(9),I="ADD_PRODUCT",k="REMOVE_PRODUCT",q=function(t,e){switch(e.type){case I:return function(t,e){var c=Object(w.a)(e.cart),n=c.findIndex((function(e){return e._id===t.id}));if(n<0)c.push(Object(P.a)(Object(P.a)({},t),{},{quantity:1}));else{var r=Object(P.a)({},c[n]);r.quantity++,c[n]=r}return Object(P.a)(Object(P.a)({},e),{},{cart:c})}(e.product,t);case k:return function(t,e){var c=Object(w.a)(e.cart),n=c.findIndex((function(e){return e.id===t})),r=Object(P.a)({},c[n]);return r.quantity--,r.quantity<=0?c.splice(n,1):c[n]=r,Object(P.a)(Object(P.a)({},e),{},{cart:c})}(e.productId,t);default:return t}};var A=function(t){var e=Object(n.useState)([]),c=Object(C.a)(e,2),r=c[0],a=c[1];Object(n.useEffect)((function(){var t=function(){var t=Object(j.a)(d.a.mark((function t(){var e,c,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new O("http://localhost:5000/api/products"),t.next=3,e.get();case 3:c=t.sent,n=c.data,a(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var i=Object(w.a)(r),s=Object(n.useReducer)(q,{cart:[]}),o=Object(C.a)(s,2),u=o[0],l=o[1];return Object(x.jsx)(p.Provider,{value:{products:i,cart:u.cart,addProductToCart:function(t){l({type:I,product:t})},removeProductFromCart:function(t){l({type:k,productId:t})}},children:t.children})},F=Object(x.jsx)(A,{children:Object(x.jsx)(s.a,{children:Object(x.jsx)(o.c,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(o.a,{exact:!0,path:"/",component:N}),Object(x.jsx)(o.a,{exact:!0,path:"/products/:id",component:_}),Object(x.jsx)(o.a,{exact:!0,path:"/cart",component:g})]})})})});i.a.render(F,document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.d70e3072.chunk.js.map